(self["webpackJsonp_proactiveServiceSaas"]=self["webpackJsonp_proactiveServiceSaas"]||[]).push([[15],{23924:function(e,t,a){var s={"./Default.vue":54909};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=23924},54624:function(e,t,a){var s={"./Default.vue":7302};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=54624},54909:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",[e._v("暂无对应的弹窗组件")])},i=[],r={},n=r,o=a(1001),l=(0,o.Z)(n,s,i,!1,null,null,null),c=l.exports},7302:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",[e._v("暂无对应的页面组件")])},i=[],r={},n=r,o=a(1001),l=(0,o.Z)(n,s,i,!1,null,null,null),c=l.exports},53015:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return X}});var s=function(){var e=this,t=e._self._c;return t("c-pages-card",{ref:"pages",attrs:{"pages-config":e.pagesConfig}},[t("div",{attrs:{slot:"btn"},slot:"btn"},[t("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.addRole}},[e._v("添加应用角色")])],1),e.dialogVisible?t("el-dialog",{attrs:{slot:"dialog",title:e.titleMap[e.pageType||"addRole"],visible:e.dialogVisible,width:"800px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}},slot:"dialog"},[-1===["data","power"].indexOf(e.pageType)?t("add-role-form",{attrs:{"page-type":e.pageType,id:e.editId},on:{close:e.closeRole}}):e._e(),"data"===e.pageType?t("policy-data-tag",{attrs:{"product-id":e.productId,id:e.editId},on:{close:e.closeRole}}):e._e(),"power"===e.pageType?t("permission-policy",{attrs:{"product-id":e.productId,id:e.editId},on:{close:e.closeRole}}):e._e()],1):e._e()],1)},i=[],r=(a(57658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"pages"},["list"===e.pageType||"Dialog"===e.pageType?t("div",[t("div",{staticClass:"pages-title"},[e.pagesData.formItems.length&&e.pagesData.operation.topOptions.length?t("div",{staticClass:"filter-box"},[t("el-button-group",{staticClass:"filter-btn"},e._l(e.pagesData.operation.topOptions,(function(a,s){return t("el-button",{key:`topOptions_${s}`,attrs:{plain:"",type:"primary"},on:{click:function(t){return e.optionsTodo(a)}}},[e._v(" "+e._s(a[0])+" ")])})),1),e._l(e.pagesData.formItems,(function(a,s){return t("div",{key:`filter_${s}`,staticClass:"filter-input"},[t("el-input",{attrs:{placeholder:a.placePrefix?a.placePrefix:"请输入内容"},model:{value:e.formData[a.key],callback:function(t){e.$set(e.formData,a.key,t)},expression:"formData[item.key]"}})],1)})),t("el-button-group",[t("el-button",{on:{click:e.handleSearch}},[e._v("查询")]),t("el-button",{on:{click:e.handleResetSearch}},[e._v("重置")])],1)],2):[t("div",{staticClass:"title-info"},[t("div",{staticClass:"title-name"},[e._v(e._s(e.pagesData.title))]),e.pagesData.Subtitle?t("div",{staticClass:"title-info"},[e._v(e._s(e.pagesData.Subtitle))]):e._e()]),t("div",{staticClass:"title-btn"},[e._t("btn")],2)],t("div",{staticStyle:{clear:"both"}})],2),t("div",{staticClass:"pages-table"},[t("c-table",{attrs:{props:e.pagesData.table.props,data:e.pagesData.table.data,header:e.pagesData.table.header}}),e.pagesData.pagesFlag?t("div",{staticClass:"pages-pagination"},[t("span",{staticClass:"pages-total"},[e._v("共"+e._s(e.pagesData.pagesTotal)+"条")]),t("el-pagination",{staticClass:"pagination",staticStyle:{float:"right"},attrs:{layout:"prev, pager, next, sizes, jumper","current-page":e.pagesData.pages.page,"page-size":e.pagesData.pages.pageSize,total:e.pagesData.pagesTotal},on:{"current-change":e.handleCurrentChange,"size-change":e.handleChangeSize}}),t("div",{staticStyle:{clear:"both"}})],1):e._e()],1),e._t("dialog")],2):e._e(),"Pages"===e.pageType?t("resource-content",{attrs:{template:e.template,title:e.title,mode:e.mode,id:e.id,row:e.row,"unique-id":e.uniqueId},on:{"upsert-end":function(t){return e.hiddenPages("ok")},"go-back":function(t){return e.hiddenPages("back")}}}):e._e(),e.dialogVisible?t("div",[t("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.hiddenDialog}},[t(e.dialogComponents[e.template]||e.dialogComponents["Default"],{ref:"dialogForm",tag:"component",attrs:{mode:e.mode,id:e.id,row:e.row,"unique-id":e.uniqueId},on:{"upsert-end":function(t){return e.hiddenDialog("ok")},"go-back":function(t){return e.hiddenDialog("back")}}})],1)],1):e._e()],1)}),n=[];const o=a(23924),l={};o.keys().forEach((e=>{l[e.replace(/(^\.\/|\.vue$)/g,"")]=o(e).default}));var c=l,d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box-card"},[t("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":{height:"calc(100% - 50px)",padding:"0"}}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"pages-card--title"},[e._v(e._s(e.title))]),t("div",{staticClass:"pages-card--actions",on:{click:function(t){return e.$emit("go-back")}}},[t("span",{staticClass:"text"},[e._v("返回")])])]),t("div",{staticClass:"card-body"},[t("el-scrollbar",{staticStyle:{height:"100%"}},[t("div",{staticStyle:{padding:"14px 20px"}},[t(e.templateComponents[e.template]||e.templateComponents["Default"],{ref:"page",tag:"component",attrs:{mode:e.mode,id:e.id,row:e.row,"unique-id":e.uniqueId},on:{"upsert-end":function(t){return e.$emit("upsert-end")},"go-back":function(t){return e.$emit("go-back")}}})],1)])],1)])],1)},u=[];const p=a(54624),h={};p.keys().forEach((e=>{h[e.replace(/(^\.\/|\.vue$)/g,"")]=p(e).default}));var g=h,m={data(){return{showIcon:!1,templateComponents:{...g}}},props:["title","template","mode","id","row","uniqueId"]},f=m,v=a(1001),b=(0,v.Z)(f,d,u,!1,null,"2f73ebb0",null),y=b.exports,C={name:"PagesCard",components:{ResourceContent:y},props:{pagesConfig:{type:Object,default:()=>({})},uniqueId:{type:[String,Number],default:""}},data(){return{dialogVisible:!1,template:"",mode:"",id:"",row:{},dialogComponents:c,title:"",pageType:"list",formData:{},pagesData:{pagesFlag:!0,formItems:[],operation:{topOptions:[]},title:"",Subtitle:"",pagesTotal:0,pages:{pageSize:10,page:1},table:{props:{border:!1},data:[]}}}},methods:{handleSearch(){this.pagesData.pages.page=1,this.getList()},handleResetSearch(){this.pagesData.pages.page=1,this.formData={},this.getList()},tabOptions({row:e,option:t}){"Dialog"===t[1]&&(this.dialogVisible=!0),this.pageType=t[1],this.title=t[0],this.template=t[2],this.mode=t[3],this.row=e},optionsTodo(e){"Dialog"===e[1]&&(this.dialogVisible=!0),this.pageType=e[1],this.title=e[0],this.template=e[2],this.mode=e[3]},hiddenDialog(e){this.dialogVisible=!1,this.pageType="list","ok"===e&&this.getList()},hiddenPages(e){this.pageType="list","ok"===e&&this.getList()},handleCurrentChange(e){this.pagesData.pages.page=e,this.getList()},handleChangeSize(e){this.pagesData.pages.pageSize=e,this.getList()},getList(){this.pagesConfig.listApi&&this.pagesConfig.listApi({...this.pagesData.params,...this.pagesData.pagesFlag?this.pagesData.pages:{},...this.formData}).then((({data:e})=>{this.$set(this.pagesData.table,"data",this.pagesData.pagesFlag?e.list:this.pagesData.getData?this.pagesData.getData(e):e),this.pagesData.pagesTotal=e.total}))},deepMerge(e={},t={}){if(e=this.deepClone(e),"object"!==typeof e||"object"!==typeof t)return!1;for(const a in t)t.hasOwnProperty(a)&&(a in e?"object"!==typeof e[a]||"object"!==typeof t[a]?e[a]=t[a]:e[a].concat&&t[a].concat?e[a]=e[a].concat(t[a]):e[a]=this.deepMerge(e[a],t[a]):e[a]=t[a]);return e},deepClone(e){if([null,void 0,NaN,!1].includes(e))return e;if("object"!==typeof e&&"function"!==typeof e)return e;const t=this.array(e)?[]:{};for(const a in e)e.hasOwnProperty(a)&&(t[a]="object"===typeof e[a]?this.deepClone(e[a]):e[a]);return t},array(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},created(){this.pagesData=this.deepMerge(this.pagesData,this.pagesConfig),this.getList()}},T=C,_=(0,v.Z)(T,r,n,!1,null,"4597b27c",null),D=_.exports,S=a(60838),k=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.roleFormData,rules:e.roleRules,"label-width":"100px","label-position":"top"}},[t("el-form-item",{attrs:{label:"角色名称",prop:"policyName"}},[t("el-input",{model:{value:e.roleFormData.policyName,callback:function(t){e.$set(e.roleFormData,"policyName",t)},expression:"roleFormData.policyName"}})],1),t("el-form-item",{attrs:{label:"英文名称",prop:"policyEname"}},[t("el-input",{model:{value:e.roleFormData.policyEname,callback:function(t){e.$set(e.roleFormData,"policyEname",t)},expression:"roleFormData.policyEname"}})],1),t("el-form-item",{attrs:{label:"归属业务",prop:"businessUniqueIds"}},[t("el-checkbox-group",{model:{value:e.roleFormData.businessUniqueIds,callback:function(t){e.$set(e.roleFormData,"businessUniqueIds",t)},expression:"roleFormData.businessUniqueIds"}},e._l(e.businessList,(function(a,s){return t("el-checkbox",{key:s,attrs:{label:a.uniqueId}},[e._v(e._s(a.name))])})),1)],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:e.roleFormData.remark,callback:function(t){e.$set(e.roleFormData,"remark",t)},expression:"roleFormData.remark"}})],1),t("el-form-item",[t("div",{staticClass:"dialog-footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitRole}},[e._v("确 定")]),t("el-button",{on:{click:function(t){return e.$emit("close","cancel")}}},[e._v("取 消")])],1)])],1)],1)},P=[],I=a(99534);const x=(e,t,a)=>{const s=/^[A-Za-z0-9]+$/;!s.test(t)&&t?a(new Error("英文名称必须是数字或字母")):a()};var M={mixins:[S.Z],components:{},props:{id:{type:[String,Number],default:""},pageType:{type:String,default:"addRole"},roleForm:{type:[Object],default:()=>({})}},data(){return{roleRules:{policyName:{required:!0,message:"请输入角色名称",trigger:["blur"]},policyEname:[{required:!0,message:"请输入英文",trigger:["blur"]},{min:4,max:20,message:"英文长度在 4 到 20 个字符",trigger:["blur"]},{validator:x,trigger:["blur"]}],businessUniqueIds:[{type:"array",required:!0,message:"请选择归属业务",trigger:"change"}]},roleFormData:{businessUniqueIds:[]},businessList:[]}},watch:{roleForm:{handler(e){console.log(e)},deep:!0}},methods:{submitRole(){this.$refs.ruleForm.validate((e=>{if(e){const e=JSON.parse(JSON.stringify(this.roleFormData)),t=e.id?I.ul:I._d;t({...e,policyCode:`proactiveServiceSaas_${this.roleFormData.policyEname}`,productUniqueId:this.uniqueId}).then((()=>{this.$emit("close","save")}))}}))},evil(e){const t=Function;return new t("return "+e)()},getBusinessList(){(0,I.Dz)({pageSize:99999,page:1}).then((e=>{this.businessList=e.data.list}))},getDetail(){(0,I.s8)({id:this.id}).then((e=>{this.roleFormData=e.data,this.$nextTick((()=>{this.$refs["ruleForm"].clearValidate()}))}))}},created(){},mounted(){this.getBusinessList(),this.id&&this.getDetail()}},L=M,w=(0,v.Z)(L,k,P,!1,null,"53b107aa",null),F=w.exports,E=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"permission-box mb20"},[t("el-col",{staticClass:"item",attrs:{sm:24}},[t("div",{staticClass:"content"},[t("div",{staticClass:"tag-content"},[t("div",{staticClass:"box-head"},[t("span",{staticClass:"mr40"},[e._v("数据标签列表")]),t("span",[e._v("应用："+e._s(e.activeProduct.cname||"-"))])]),t("div",{staticClass:"content"},[t("el-tree",{ref:"tagTree",attrs:{data:e.activeProduct.dataTagList,"node-key":"id",props:e.dataTagTreeProps,"show-checkbox":!0,"default-expand-all":!0,"expand-on-click-node":!1,"check-strictly":e.isCheckStrictly,"default-checked-keys":e.selectedTagIds},on:{check:t=>e.tagSelect(t,e.activeProduct)}})],1)])])])],1),t("div",{staticClass:"form-footer-btn",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存并返回")]),t("el-button",{on:{click:function(t){return e.$emit("close","cancel")}}},[e._v("取消")])],1)],1)},N=[],$={name:"PermissionPolicy",props:{id:{type:Number,default:0},productId:{type:[Number,String],default:0}},data(){return{isLoading:!1,productList:[],activeProduct:this.genActivedPorduct(),dataTagTreeProps:{label:"tagName",children:"child"},selectedTagIds:[],isCheckStrictly:!1}},computed:{},methods:{genActivedPorduct(){return{cname:"",dataTagList:[]}},getSelectedTags(e=[],t=[]){return e.forEach((e=>{const a=e[this.dataTagTreeProps.children];!e.selected||a&&0!==a.length||t.push(e),a&&this.getSelectedTags(a,t)})),t},handleProducClick(e){const{dataTagList:t}=e;this.activeProduct=e;const a=this.getSelectedTags(t);this.selectedTagIds=a.map((e=>e.id))},subTagsSelect(e){const t=e.selected;(e[this.dataTagTreeProps.children]||[]).forEach((e=>{e.selected=t,this.subTagsSelect(e)}))},parentTagSelect(e){if(e._parentTag){const t=e._parentTag[this.dataTagTreeProps.children]||[],a=t.some((e=>e.selected));e._parentTag.selected=Number(a),this.parentTagSelect(e._parentTag)}},tagSelect(e,t){const a=Number(!e.selected);e.selected=a;const s=t.dataTagList||[],i=this.getSelectedTags(s);i.length>0&&(t.selected=1),this.isCheckStrictly||this.subTagsSelect(e),this.parentTagSelect(e),this.selectedTagIds=this.$refs.tagTree.getCheckedKeys()},handleSave(){const e=this.productList.slice(0,this.productList.length);e.forEach((e=>{this.clearCacheParentTag(e.dataTagList)})),this.saveData({policyId:this.id,tagList:e})},saveData(e){this.isLoading=!0,(0,I.gj)(e).then((()=>{this.$emit("close","save")})).finally((()=>{this.isLoading=!1}))},clearCacheParentTag(e=[]){e.forEach((e=>{e._parentTag=void 0,this.clearCacheParentTag(e[this.dataTagTreeProps.children]||[])}))},cacheParentTag(e){e.forEach((e=>{(e[this.dataTagTreeProps.children]||[]).forEach((t=>{t._parentTag=e,this.cacheParentTag([t])}))}))},fetchData(){this.isLoading=!0,(0,I.Ch)({policyAggregateIds:[this.id],productId:this.productId}).then((({data:e})=>{(e||[]).forEach((e=>{this.cacheParentTag(e.dataTagList)})),this.productList=e,this.handleProducClick(e[0])})).finally((()=>{this.isLoading=!1}))},evil(e){const t=Function;return new t("return "+e)()}},created(){this.fetchData()}},q=$,O=(0,v.Z)(q,E,N,!1,null,"517dc95d",null),Z=O.exports,A=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("el-row",{staticClass:"permission-box mb20"},[t("el-col",{staticClass:"item",attrs:{sm:12}},[t("div",{staticClass:"content"},[t("div",{staticClass:"menu-content"},[t("div",{staticClass:"box-head"},[t("span",{staticClass:"mr40"},[e._v("菜单列表 ")])]),t("div",{staticClass:"content"},[t("el-tree",{ref:"menuTree",attrs:{data:e.activeProduct.aggregateSet,"node-key":"id",props:e.menuTreeProps,"show-checkbox":!0,"default-expand-all":!0,"expand-on-click-node":!1,"check-strictly":e.isCheckStrictly,"default-checked-keys":e.selectedMenuIds},on:{"node-click":t=>e.activeMenu=t,check:t=>e.menuSelect(t,e.activeProduct)}})],1)])])]),t("el-col",{staticClass:"item",attrs:{sm:12}},[t("div",{staticClass:"content"},[t("div",{staticClass:"menu-content"},[t("div",{staticClass:"box-head"},[t("span",{staticClass:"mr40"},[e._v(e._s(e.activeMenu.name))]),t("span",[e._v(" "+e._s(e.activeMenu.name?"-":"")+" 功能列表")])]),t("div",{staticClass:"content"},[e.activeMenu.buttons.length<=0?t("div",{staticClass:"no-data"},[t("span",{staticClass:"no-data__span text__nodata"},[e._v("暂无数据")])]):t("div",{staticClass:"buttons-box"},e._l(e.activeMenu.buttons,(function(a,s){return t("div",{key:s,staticClass:"buttons-box-item btn"},[t("el-button",{attrs:{type:a.selected?"primary":"default"},on:{click:function(t){return e.btnSelect(a,e.activeMenu)}}},[e._v(" "+e._s(a.cname)+" ")])],1)})),0)])])])])],1),t("div",{staticClass:"form-footer-btn",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存并返回")]),t("el-button",{on:{click:function(t){return e.$emit("close","cancel")}}},[e._v("取消")])],1)],1)])},R=[],V={name:"PermissionPolicy",props:{id:{type:Number,required:!0},productId:{type:[Number,String],default:0}},data(){return{radio:null,roleType:1,isLoading:!1,productList:[],activeProduct:this.genActivedPorduct(),menuTreeProps:{label:"name",children:"childAggregate"},activeMenu:this.genActivedMenu(),selectedMenuIds:[],isCheckStrictly:!1,apiServer:void 0,api:{}}},methods:{genActivedPorduct(){return{productName:"",aggregateSet:[]}},genActivedMenu(){return{name:"",buttons:[]}},getSelectedMenus(e=[],t=[]){return e.forEach((e=>{const a=e[this.menuTreeProps.children];!e.selected||a&&0!==a.length||t.push(e),a&&this.getSelectedMenus(a,t)})),t},handleProductChange(e){this.productList.forEach((t=>{t.productId!==e.productId&&(t.selected=0)}))},handleProducClick(e){const{aggregateSet:t}=e;this.activeProduct=e;const a=this.getSelectedMenus(t);this.selectedMenuIds=a.map((e=>e.id)),this.activeMenu=this.genActivedMenu()},subMenusSelect(e){const t=e.selected;e[this.menuTreeProps.children].forEach((e=>{e.selected=t,this.subMenusSelect(e)}))},parentMenuSelect(e){if(e._parentMenu){const t=e._parentMenu[this.menuTreeProps.children],a=t.some((e=>e.selected));e._parentMenu.selected=Number(a),this.parentMenuSelect(e._parentMenu)}},menuSelect(e,t){e.selected=Number(!e.selected);const a=t.aggregateSet||[],s=this.getSelectedMenus(a);s.length>0&&(t.selected=1),this.isCheckStrictly||this.subMenusSelect(e),this.parentMenuSelect(e),this.selectedMenuIds=this.$refs.menuTree.getCheckedKeys()},btnSelect(e,t){e.selected=Number(!e.selected);const a=t.buttons||[],s=a.some((e=>e.selected)),i=this.selectedMenuIds.findIndex((e=>e===t.id));s&&i<=-1&&this.selectedMenuIds.push(t.id),this.$refs.menuTree.setCheckedKeys(this.selectedMenuIds),t.selected||this.menuSelect(t,this.activeProduct)},handleSave(){const e=this.productList.slice(0,this.productList.length);e.forEach((e=>{this.clearCacheParentMenu(e.aggregateSet)})),this.saveData({policyId:this.id,camPolicyAggregateList:e})},saveData(e){this.isLoading=!0,(0,I.Sy)(e).then((()=>{this.$emit("close","save")})).finally((()=>{this.isLoading=!1}))},clearCacheParentMenu(e){e.forEach((e=>{e._parentMenu=void 0,this.clearCacheParentMenu(e[this.menuTreeProps.children])}))},cacheParentMenu(e){e.forEach((e=>{e[this.menuTreeProps.children].forEach((t=>{t._parentMenu=e,this.cacheParentMenu([t])}))}))},fetchData(){this.isLoading=!0,(0,I.SP)({policyAggregateIds:[this.id],productId:this.productId}).then((({data:e})=>{(e||[]).forEach((e=>{this.cacheParentMenu(e.aggregateSet)})),this.productList=e,this.handleProductChange(e[0]),this.handleProducClick(e[0]);const t=this.productList.find((e=>e.selected));t&&this.handleProducClick(t)})).finally((()=>{this.isLoading=!1}))},evil(e){const t=Function;return new t("return "+e)()}},created(){this.fetchData()}},j=V,U=(0,v.Z)(j,A,R,!1,null,"4cdae14a",null),z=U.exports,J={name:"AppRole",mixins:[S.Z],components:{CPagesCard:D,addRoleForm:F,PolicyDataTag:Z,PermissionPolicy:z},props:{},data(){return{titleMap:{editRole:"编辑应用角色",addRole:"添加应用角色",data:"角色数据权限",power:"角色权限管理"},dialogVisible:!1,pagesConfig:{listApi:I.JV,params:{},title:"应用角色",table:{header:[{width:100,label:"角色ID",prop:"id"},{label:"角色名称",prop:"policyName"},{label:"英文名称",prop:"policyEname"},{label:"归属业务",prop:"businessLineName"},{label:"描述",prop:"remark"},{label:"创建时间",prop:"createTime"},{label:"操作",width:200,align:"center",render:(e,{row:t})=>{const a=[{text:"编辑",handle:"handleEdit"},{text:"权限管理",handle:"handlePower"}],s=[];return a.forEach((a=>{s.push(e("el-button",{attrs:{type:"text"},on:{click:()=>{this[a.handle](t)}}},a.text))})),s}}],data:[]}},roleForm:{},editId:0,pageType:""}},computed:{},methods:{handlePower(e){this.dialogVisible=!0,this.pageType="power",this.editId=e.id},handleClose(){this.pageType="",this.dialogVisible=!1},handleData(e){this.dialogVisible=!0,this.pageType="data",this.editId=e.id},closeRole(e){this.dialogVisible=!1,this.pageType="","save"===e&&this.$refs.pages.getList()},handleEdit(e){this.pageType="editRole",this.editId=e.id,this.roleForm=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},addRole(){this.pageType="addRole",this.editId="",this.roleForm={businessUniqueIds:[]},this.dialogVisible=!0}},created(){this.$set(this.pagesConfig.params,"productUniqueId",this.uniqueId)}},K=J,B=(0,v.Z)(K,s,i,!1,null,"459a1480",null),X=B.exports},60838:function(e,t){"use strict";t["Z"]={computed:{productId(){return"110"},uniqueId(){return"1595241305477218304"},productKey(){return"proactiveServiceSaas"}}}},99534:function(e,t,a){"use strict";a.d(t,{Ch:function(){return c},Dz:function(){return i},JV:function(){return p},SP:function(){return d},Sy:function(){return u},XY:function(){return g},_d:function(){return n},fI:function(){return h},gj:function(){return l},s8:function(){return r},ul:function(){return o}});var s=a(56414);function i(e){return(0,s.Z)({method:"get",url:"auth/business/list",params:e})}function r(e){return(0,s.Z)({method:"get",url:"auth/camPolicy/detail",params:e})}function n(e){return(0,s.Z)({method:"post",url:"auth/camPolicy/save",data:e})}function o(e){return(0,s.Z)({method:"post",url:"auth/camPolicy/update",data:e})}function l(e){return(0,s.Z)({method:"post",url:"auth/camPolicyDataTag/save",data:e})}function c(e){return(0,s.Z)({method:"post",url:"auth/camPolicy/v2/policyDataTagList",data:e})}function d(e){return(0,s.Z)({method:"post",url:"auth/camPolicy/v2/policyDetail",data:e})}function u(e){return(0,s.Z)({method:"post",url:"auth/camPolicy/savePolicy",data:e})}function p(e){return(0,s.Z)({method:"get",url:"auth/camPolicy/list",params:e})}function h(e){return(0,s.Z)({method:"get",url:"auth/user/getUserErrorCount",isJSON:!1,params:e})}function g(e){return(0,s.Z)({method:"post",url:"auth/user/clearCache",isJSON:!1,params:e})}}}]);
//# sourceMappingURL=15.8745d333.js.map